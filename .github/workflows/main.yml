name: Test

on:
  push:
    branches:
    - main

jobs:
  build:
    name: Build and Test
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2
      - name: Use Node 16.x
        uses: actions/setup-node@v1
        with:
          node-version: '16.x'
      - name: Install dependencies
        run: npm ci
      - name: Build
        run: npm run build --prod
      - name: Show Files
        run: ls -la
      - name: FTP Transfer
        # You may pin to the exact commit or the version.
        # uses: joutvhu/ftp-transfer@50bd98a47d757eb61bdaa3ba18c17484fbc98c27
        uses: joutvhu/ftp-transfer@v1.0.0
        with:
          # The hostname or IP address of the FTP server.
          host: ftp.meis.gr
          # The port of the FTP server.
          port: 21
          # Username for authentication.
          username: ${{ secrets.USERNAME }}
          # Password for authentication.
          password: ${{ secrets.PASSWORD }}
          
          # The ftp commands
          commands: ls- la
          
